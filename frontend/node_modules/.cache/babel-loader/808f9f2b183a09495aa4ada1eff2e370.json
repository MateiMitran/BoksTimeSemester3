{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matei\\\\Desktop\\\\BoksTime1\\\\sem3_individualtrackproject_4207734\\\\frontend\\\\src\\\\components\\\\create-fight.component.js\";\nimport React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport './create-fight.component.css';\nimport FighterService from '../services/fighter.service';\nimport FightService from '../services/fight.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"This field is required!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }, this);\n  }\n};\n\nexport default class CreateFight extends Component {\n  constructor(props) {\n    super(props);\n    this.handleCreateFight = this.handleCreateFight.bind(this);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeEmbedID = this.onChangeEmbedID.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeFighter1ID = this.onChangeFighter1ID.bind(this);\n    this.onChangeFighter2ID = this.onChangeFighter2ID.bind(this);\n    this.state = {\n      fighters: [],\n      title: \"\",\n      embedId: \"\",\n      image: \"\",\n      description: \"\",\n      fighter1ID: \"\",\n      fighter2ID: \"\",\n      newFightID: \"\",\n      successful: false,\n      message: \"\"\n    };\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value\n    });\n  }\n\n  onChangeEmbedID(e) {\n    this.setState({\n      embedId: e.target.value\n    });\n  }\n\n  onChangeImage(e) {\n    this.setState({\n      image: e.target.value\n    });\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  onChangeFighter1ID(e) {\n    this.setState({\n      fighter1ID: e.target.value\n    });\n  }\n\n  onChangeFighter2ID(e) {\n    this.setState({\n      fighter2ID: e.target.value\n    });\n  }\n\n  handleCreateFight(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      successful: false\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      FightService.createFight(this.state.title, this.state.embedId, this.state.description).then(response => {\n        this.setState({\n          message: response.data.message,\n          successful: true\n        });\n        console.log(response.data);\n        localStorage.setItem(\"fighter1ID\", this.state.fighter1ID);\n        localStorage.setItem(\"fighter2ID\", this.state.fighter2ID);\n        window.location.href = \"/set-image?id=\" + response.data.id;\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        this.setState({\n          successful: false,\n          message: resMessage\n        });\n      });\n    }\n  }\n\n  componentDidMount() {\n    FighterService.getFighters().then(response => {\n      this.setState({\n        fighters: response.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Form, {\n      className: \"simple-form listing-form\",\n      onSubmit: this.handleCreateFight,\n      ref: c => {\n        this.form = c;\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Fight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-background\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group full clearfix\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"General\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full clearfix\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                children: \"Title:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                name: \"title\",\n                id: \"title\",\n                onChange: this.onChangeTitle,\n                validations: [required]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group full clearfix\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"embedId\",\n                children: \"YouTube Embed ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                name: \"embedId\",\n                id: \"embedId\",\n                onChange: this.onChangeEmbedID,\n                validations: [required]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group-half\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"fighter-2-id\",\n              children: \"Fighter 2:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"select-arrow-label\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"fighter-2-id\",\n                id: \"fighter-2-id\",\n                onChange: this.onChangeFighter2ID,\n                validations: [required],\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"default\",\n                  selected: true,\n                  disabled: true,\n                  children: \"Select Fighter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 25\n                }, this), this.state.fighters.map(fighter => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: fighter.id,\n                  children: fighter.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 37\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group-half\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"fighter-1-id\",\n              children: \"Fighter 1:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"select-arrow-label\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"fighter-1-id\",\n                id: \"fighter-1-id\",\n                onChange: this.onChangeFighter1ID,\n                validations: [required],\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"default\",\n                  selected: true,\n                  disabled: true,\n                  children: \"Select Fighter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 25\n                }, this), this.state.fighters.map(fighter => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: fighter.id,\n                  children: fighter.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 37\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group full clearfix\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group full\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"description\",\n              children: \"Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              id: \"description\",\n              onChange: this.onChangeDescription,\n              validations: [required]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group full submit\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"create-fight-btn\",\n              children: \" Create Fight \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), this.state.message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: this.state.successful ? \"alert alert-success\" : \"alert alert-danger\",\n          role: \"alert\",\n          children: this.state.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(CheckButton, {\n        style: {\n          display: \"none\"\n        },\n        ref: c => {\n          this.checkBtn = c;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/matei/Desktop/BoksTime1/sem3_individualtrackproject_4207734/frontend/src/components/create-fight.component.js"],"names":["React","Component","Form","Input","CheckButton","FighterService","FightService","required","value","CreateFight","constructor","props","handleCreateFight","bind","onChangeTitle","onChangeEmbedID","onChangeImage","onChangeDescription","onChangeFighter1ID","onChangeFighter2ID","state","fighters","title","embedId","image","description","fighter1ID","fighter2ID","newFightID","successful","message","e","setState","target","preventDefault","form","validateAll","checkBtn","context","_errors","length","createFight","then","response","data","console","log","localStorage","setItem","window","location","href","id","error","resMessage","toString","componentDidMount","getFighters","render","c","map","fighter","name","display"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport './create-fight.component.css'; \r\nimport FighterService from '../services/fighter.service';\r\nimport FightService from '../services/fight.service';\r\n\r\nconst required = value => {\r\n    if (!value) {\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          This field is required!\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\nexport default class CreateFight extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleCreateFight = this.handleCreateFight.bind(this);\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        this.onChangeEmbedID = this.onChangeEmbedID.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n        this.onChangeDescription = this.onChangeDescription.bind(this);\r\n        this.onChangeFighter1ID = this.onChangeFighter1ID.bind(this);\r\n        this.onChangeFighter2ID = this.onChangeFighter2ID.bind(this);\r\n        this.state = {\r\n            fighters: [],\r\n            title: \"\",\r\n            embedId: \"\",\r\n            image: \"\",\r\n            description: \"\",\r\n            fighter1ID: \"\",\r\n            fighter2ID: \"\",\r\n            newFightID: \"\",\r\n            successful: false,\r\n            message: \"\"\r\n        }\r\n    }\r\n    onChangeTitle(e) {\r\n        this.setState({\r\n          title: e.target.value\r\n        });\r\n      }\r\n\r\n    onChangeEmbedID(e) {\r\n        this.setState({\r\n          embedId: e.target.value\r\n        });\r\n      }\r\n    onChangeImage(e) {\r\n        this.setState({\r\n          image: e.target.value\r\n        });\r\n      }\r\n    onChangeDescription(e) {\r\n        this.setState({\r\n          description: e.target.value\r\n        });\r\n      }\r\n    onChangeFighter1ID(e) {\r\n        this.setState({\r\n          fighter1ID: e.target.value\r\n        });\r\n      }\r\n    onChangeFighter2ID(e) {\r\n        this.setState({\r\n          fighter2ID: e.target.value\r\n        });\r\n      }\r\n\r\n\r\n    handleCreateFight(e) {\r\n        e.preventDefault();\r\n        this.setState({\r\n          message: \"\",\r\n          successful: false\r\n        });\r\n        this.form.validateAll();\r\n        if (this.checkBtn.context._errors.length === 0) {\r\n            FightService.createFight(this.state.title,this.state.embedId,this.state.description).then( (response) => {\r\n              this.setState({\r\n                message: response.data.message,\r\n                successful: true\r\n              })\r\n                console.log(response.data);\r\n                localStorage.setItem(\"fighter1ID\", this.state.fighter1ID);\r\n                localStorage.setItem(\"fighter2ID\", this.state.fighter2ID);\r\n                window.location.href= \"/set-image?id=\" + response.data.id;\r\n            },\r\n            error => {\r\n              const resMessage =\r\n                (error.response &&\r\n                  error.response.data &&\r\n                  error.response.data.message) ||\r\n                error.message ||\r\n                error.toString();\r\n    \r\n              this.setState({\r\n                successful: false,\r\n                message: resMessage\r\n              });\r\n            }\r\n        );\r\n    }\r\n  }\r\n    componentDidMount() {\r\n        FighterService.getFighters().then( (response) => {\r\n            this.setState({\r\n                fighters: response.data\r\n            })\r\n        });\r\n       \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            \r\n            <Form className=\"simple-form listing-form\"\r\n            onSubmit={this.handleCreateFight}\r\n            ref={c => {\r\n              this.form = c;\r\n            }}\r\n            >\r\n        <h2>Create Fight</h2>\r\n        <div className=\"form-background\">\r\n            <div className=\"form-section\">\r\n                <div className=\"form-group full clearfix\">\r\n                    <h3>General</h3>\r\n                    \r\n                    <div className=\"form-group full clearfix\">\r\n                        <label htmlFor=\"name\">Title:</label>\r\n                        <Input type=\"text\" name=\"title\" id=\"title\"\r\n                        onChange = {this.onChangeTitle}\r\n                        validations = {[required]}\r\n                        />\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div className=\"form-group full clearfix\">\r\n                    <div className=\"form-group full\">\r\n                        <label htmlFor=\"embedId\">YouTube Embed ID:</label>\r\n                        <Input type=\"text\" name=\"embedId\" id=\"embedId\" \r\n                        onChange = {this.onChangeEmbedID}\r\n                        validations = {[required]}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group-half\">\r\n                        <label htmlFor=\"fighter-2-id\">Fighter 2:</label>\r\n                        <label className=\"select-arrow-label\">\r\n                        <select name=\"fighter-2-id\" id=\"fighter-2-id\"\r\n                        onChange = {this.onChangeFighter2ID}\r\n                        validations = {[required]}\r\n                        >\r\n                        <option value=\"default\" selected disabled>Select Fighter</option>\r\n                            {\r\n                                this.state.fighters.map( fighter => \r\n                                    <option value={fighter.id}>{fighter.name}</option>\r\n                                )\r\n                            }\r\n                        </select></label>\r\n                    </div>\r\n                <div className=\"form-group-half\">\r\n                        <label htmlFor=\"fighter-1-id\">Fighter 1:</label>\r\n                        <label className=\"select-arrow-label\">\r\n                        <select name=\"fighter-1-id\" id=\"fighter-1-id\"\r\n                        onChange = {this.onChangeFighter1ID}\r\n                        validations = {[required]}\r\n                        >\r\n                        <option value=\"default\" selected disabled>Select Fighter</option>\r\n                            {\r\n                                this.state.fighters.map( fighter => \r\n                                    <option value={fighter.id}>{fighter.name}</option>\r\n                                )\r\n                            }\r\n                        </select></label>\r\n                </div>\r\n                \r\n                <div className=\"form-group full clearfix\">\r\n                    \r\n                </div>\r\n                <div className=\"form-group full\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea name=\"description\" id=\"description\"\r\n                    onChange = {this.onChangeDescription}\r\n                    validations = {[required]}\r\n                    ></textarea>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"form-section\">\r\n                <div className=\"form-group full submit\">\r\n                    <button id = \"create-fight-btn\"> Create Fight </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        {this.state.message && (\r\n              <div className=\"form-group\">\r\n                <div\r\n                  className={\r\n                    this.state.successful\r\n                      ? \"alert alert-success\"\r\n                      : \"alert alert-danger\"\r\n                  }\r\n                  role=\"alert\"\r\n                >\r\n                  {this.state.message}\r\n                </div>\r\n              </div>\r\n            )}\r\n        <CheckButton\r\n              style={{ display: \"none\" }}\r\n              ref={c => {\r\n                this.checkBtn = c;\r\n              }}\r\n            />\r\n    </Form>\r\n        );\r\n    }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}